<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
      <title>Глава 12. Работа с форматированным текстом</title>
      <link rel="stylesheet" type="text/css" href="OmegaT.css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
      <link rel="home" href="index.html" title="Руководство пользователя ОмегаТ 3.0">
      <link rel="up" href="index.html" title="Руководство пользователя ОмегаТ 3.0">
      <link rel="prev" href="chapter.plain.text.html" title="Глава 11. Работа с простыми текстовыми файлами">
      <link rel="next" href="chapter.translation.memories.html" title="Глава 13. Память переводов">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center">Глава 12. Работа с форматированным текстом</th>
            </tr>
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="chapter.plain.text.html">Пред.</a>&nbsp;
               </td>
               <th width="60%" align="center">&nbsp;</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="chapter.translation.memories.html">След.</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="chapter">
         <div class="titlepage">
            <div>
               <div>
                  <h1 class="title"><a name="chapter.formatted.text"></a>Глава 12. Работа с форматированным текстом<a class="indexterm" name="d0e6066"></a><a class="indexterm" name="d0e6071"></a></h1>
               </div>
            </div>
         </div>
         <div class="toc">
            <dl class="toc">
               <dt><span class="section"><a href="chapter.formatted.text.html#formatting.tags">1. Теги форматирования</a></span></dt>
               <dt><span class="section"><a href="chapter.formatted.text.html#tag.operations">2. Операции с тегами</a></span></dt>
               <dt><span class="section"><a href="chapter.formatted.text.html#tag.group.nesting">3. Вложенные группы тегов</a></span></dt>
               <dt><span class="section"><a href="chapter.formatted.text.html#tag.group.overlapping">4. Перекрывающиеся группы тегов</a></span></dt>
               <dt><span class="section"><a href="chapter.formatted.text.html#d0e6218">5. Параметры проверки тегов</a></span></dt>
               <dt><span class="section"><a href="chapter.formatted.text.html#tag.group.validation">6. Проверка групп тегов</a></span></dt>
               <dt><span class="section"><a href="chapter.formatted.text.html#hints.for.tag.management">7. Советы по управлению тегами</a></span></dt>
            </dl>
         </div>
         <p>Обычно в переведённом файле требуется сохранить форматирование оригинала. Информация о форматировании в поддерживаемых файлах
            (на момент написания это DocBook, HTML, XHTML, Open Document Format (ODF) и Office Open XML (MS Office 2007 и более новые
            версии)) представлена в ОмегаТ тегами. Как правило, при оценке степени схожести текстов, теги игнорируются. Теги, которые
            воспроизведены в переведённом сегменте, будут перенесены в переведённый документ.
         </p>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="formatting.tags"></a>1. Теги форматирования<a class="indexterm" name="d0e6081"></a></h2>
                  </div>
               </div>
            </div>
            <p><a class="indexterm" name="d0e6085"></a><span class="bold"><strong>Названия тегов:</strong></span></p>
            <p>Названия тегов состоят из одной, двух или трёх букв и цифры. Уникальный номер позволяет, с одной стороны, группировать схожие
               теги, а с другой, различать те из них, которые названы одинаковыми буквами, но на самом деле представляют собой разные сущности.
               Буквы, используемые при наименовании тега, по возможности отражают форматирование, которое представляет данный тег (например,
               «b» обозначает «bold», полужирный шрифт, а «i» обозначает «italic», курсив).
            </p>
            <p><a class="indexterm" name="d0e6095"></a><span class="bold"><strong>Нумерация тегов</strong></span></p>
            <p>Теги нумеруются в порядке возрастания, по группам. Под «группой тегов» в данном контексте понимаются один или два связанных
               по смыслу тега (например, &lt;i0&gt; и &lt;/i0&gt;). Внутри сегмента первая группа (пара или одиночный тег) получает номер 0, вторая&nbsp;—
               номер 1 и так далее. В первом примере ниже есть три группы тегов (пара, одиночный тег, затем снова пара тегов), во втором
               примере только одна группа (пара).
            </p>
            <p><a class="indexterm" name="d0e6105"></a><span class="bold"><strong>Парные и одиночные теги:</strong></span></p>
            <p>Теги могут быть либо одиночными, либо парными. Одиночные теги используются для представления форматирования, которое не затрагивает
               окружающий текст (например, дополнительный пробел или разрыв строки).
            </p>
            <p><code class="literal">&lt;b0&gt;&lt;CTRL+N&gt;&lt;/b0&gt;, &lt;br1&gt;&lt;b2&gt;&lt;ВВОД&gt;&lt;/b2&gt;&lt;сегмент 2132&gt;</code></p>
            <p>&lt;br1&gt; &nbsp;— это одиночный тег, он не имеет отношения к окружающему его тексту. Парные теги обычно представляют форматирование
               текста, расположенного между открывающим и закрывающим тегом пары. &lt;b0&gt; и &lt;/b0&gt; ниже являются парными и относятся к тексту
               «log.txt». Обратите внимание, открывающий тег всегда должен находиться перед закрывающим:
            </p>
            <p>&lt;<code class="literal">Файл журнала (&lt;b0&gt;log.txt&lt;/b0&gt;) для отслеживания действий пользователя и ошибок.&lt;сегмент 3167&gt;</code></p>
            <p>В <span class="application">ОмегаТ</span> теги внедряются в текст до того, как проводится сегментация. В зависимости от правил сегментации иногда может возникать ситуация,
               когда парный тег разбивается и попадает в два соседних сегмента. В окне проверки тегов такие сегменты будут помечаться как
               содержащие ошибки.
            </p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="tag.operations"></a>2. Операции с тегами<a class="indexterm" name="d0e6131"></a></h2>
                  </div>
               </div>
            </div>
            <p>С тегами нужно обращаться осторожно. Если их случайно изменить, форматирование конечного файла может быть нарушено. Самым
               надёжным решением будет всегда сохранять в переводе исходные теги в исходном порядке. Однако, при соблюдении некоторых условий,
               от этого правила можно иногда отступать.
            </p>
            <p><span class="bold"><strong><a class="indexterm" name="d0e6140"></a>Повторение тегов</strong></span></p>
            <p>Чтобы повторить группу тегов, просто скопируйте их в желаемое место в тексте. Помните, что открывающий тег всегда должен находиться
               перед закрывающим. Форматирование, представленное группой, которую вы продублировали, будет применено к тому месту, куда было
               произведено копирование.
            </p>
            <p>Пример:</p>
            <p><code class="literal">&lt;b0&gt;Это форматирование&lt;/b0&gt; будет применено здесь&lt;сегмент 0001&gt;</code></p>
            <p>После копирования:</p>
            <p><code class="literal">&lt;b0&gt;Это форматирование&lt;/b0&gt; было применено &lt;b0&gt;здесь&lt;/b0&gt;.&lt;сегмент 0001&gt;</code></p>
            <p><span class="bold"><strong><a class="indexterm" name="d0e6160"></a>Удаление групп тегов</strong></span></p>
            <p>Чтобы убрать группу тегов, просто удалите её из сегмента. Помните, что нужно удалить как открывающие, так и закрывающие теги
               и убедиться, что все следы форматирования действительно стёрты. В противном случае созданный файл будет повреждён. Удаляя
               группу тегов, вы удаляете соответствующее форматирование из переведённого файла.
            </p>
            <p>Пример:</p>
            <p><code class="literal">&lt;b0&gt;Это форматирование&lt;/b0&gt; будет удалено.&lt;сегмент 0001&gt;</code></p>
            <p>После удаления:</p>
            <p><code class="literal">Это форматирование было удалено.&lt;сегмент 0001&gt;</code></p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="tag.group.nesting"></a>3. Вложенные группы тегов<a class="indexterm" name="d0e6181"></a></h2>
                  </div>
               </div>
            </div>
            <p>Изменение групп тегов может привести к тому, что одна группа будет вложена в другую. Это нормально, пока внешняя группа полностью
               окружает вложенную. Другими словами, при перемещении парных тегов, всегда следите за тем, что и открывающий, и закрывающий
               теги оба находятся внутри (или оба находятся снаружи) другой группы тегов. В ином случае переведённый файл может быть повреждён
               и перестанет открываться.
            </p>
            <p>Пример:</p>
            <p><code class="literal">&lt;b0&gt;Форматирование&lt;/b0&gt; &lt;b1&gt;один&lt;/b1&gt; будет скопировано внутрь форматирования ноль.&lt;сегмент 0001&gt;</code></p>
            <p>После перемещения тегов:</p>
            <p><code class="literal">&lt;b0&gt;Форматирование &lt;b1&gt;один&lt;/b1&gt;&lt;/b0&gt; было скопировано внутрь форматирования ноль.&lt;сегмент 0001&gt;</code></p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="tag.group.overlapping"></a>4. Перекрывающиеся группы тегов<a class="indexterm" name="d0e6201"></a></h2>
                  </div>
               </div>
            </div>
            <p>Перекрывание является результатом некорректного обращения с парами тегов и всегда приводит к порче форматирования, а иногда
               и к тому, что переведённый файл перестаёт открываться вообще.
            </p>
            <p>Пример:</p>
            <p><code class="literal">&lt;b0&gt;Форматирование&lt;/b0&gt; &lt;b1&gt;один&lt;/b1&gt; будет испорчено.&lt;сегмент 0001&gt;</code></p>
            <p>В результате некорректного обращения с тегами:</p>
            <p><code class="literal">&lt;b0&gt;Форматирование &lt;b1&gt;один&lt;/b0&gt; &lt;/b1&gt;теперь сильно испорчено.&lt;segment 0001&gt;</code></p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="d0e6218"></a>5. Параметры проверки тегов
                     </h2>
                  </div>
               </div>
            </div>
            <p>Проверку тегов можно настроить в специальном диалоговом окне <span class="guimenuitem">«Параметры &gt; Проверка тегов...»</span>:
            </p>
            <div class="mediaobject"><img src="images/OptionsTagValidation_25.png"></div>
            <p>Описанные ниже настройки применяются не только к файлам с форматированным текстом, но ко всем исходным файлам вообще.</p>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p><span class="bold"><strong>Переменные printf - не проверять, проверять простые, проверять все</strong></span></p>
                     <p>ОмегаТ может проверять, чтобы программные переменные из исходного сегмента (такие как %s, например) присутствовали и в переводе.
                        Вы можете решить отказаться от подобной проверки, выбрать проверку только простых переменных printf (таких как %s %d и т.&nbsp;д.)
                        или проверку всех переменных printf.
                     </p>
                  </li>
               </ul>
            </div>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p><span class="bold"><strong>Проверять простые шаблоны Java MessageFormat</strong></span></p>
                     <p>Если флажок установлен, ОмегаТ будет проверять корректность работы с простыми тегами Java MessageFormat (такими как {0}).</p>
                  </li>
               </ul>
            </div>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p><span class="bold"><strong>Регулярные выражения для нестандартных тегов</strong></span></p>
                     <p>Если ввести в это поле некое регулярное выражение, ОмегаТ будет рассматривать соответствующие этому шаблону подстроки как
                        пользовательские теги. Как и в случае с обычными тегами ОмегаТ, для пользовательских тегов будет производиться проверка, присутствуют
                        ли они в переводе в должном порядке и количестве.
                     </p>
                  </li>
               </ul>
            </div>
            <div class="itemizedlist">
               <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                     <p><span class="bold"><strong>Регулярное выражение для удаления фрагментов из перевода</strong></span></p>
                     <p>В это поле можно ввести регулярное выражение для поиска фрагментов текста, которые следует удалить из перевода. Любые совпадения
                        в переведённых сегментах будут отмечены красным и их можно будет легко найти и исправить. При поиске нечётких совпадений это
                        регулярное выражение игнорируется. Если удаляемая часть не совпадает с каким-либо другим сегментом, процент совпадения уменьшается
                        на 5, так, чтобы совпадение не показывалось как точное.
                     </p>
                  </li>
               </ul>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="tag.group.validation"></a>6. Проверка групп тегов<a class="indexterm" name="d0e6262"></a></h2>
                  </div>
               </div>
            </div>
            <p>Функция проверки тегов определяет сегменты, в которых теги оригинала и перевода не совпадают и показывает их. При нажатии
               сочетания клавиш <span class="guimenuitem">CTRL+T<a class="indexterm" name="d0e6271"></a></span> откроется окно с сегментами, при переводе которых теги возможно были расставлены неправильно. С помощью этого окна можно
               легко исправить теги и создать переведённые документы с правильным форматированием. Открывающееся при нажатии <span class="guimenuitem">CTRL+T</span> окно содержит таблицу из трёх столбцов, в которой для каждого сегмента с ошибками в тегах содержатся ссылка на него, а также
               текст оригинала и перевода.
            </p>
            <div class="figure"><a name="tag.validation"></a><p class="title"><b>Рисунок 12.1. Пример записи из окна проверки тегов</b></p>
               <div class="figure-contents">
                  <div class="mediaobject"><img src="images/TagValidation.png" alt="Пример записи из окна проверки тегов"></div>
               </div>
            </div><br class="figure-break"><p>Теги выделены жирным шрифтом и синим цветом, чтобы можно было легко сравнить содержимое оригинала и перевода. Щелкните по
               ссылке, чтобы перейти к соответствующему сегменту в области редактирования. При необходимости исправьте ошибку (в примере
               выше надо добавить парный тег &lt;i2&gt;&lt;/i2&gt;) и нажмите <span class="guimenuitem">CTRL+T</span>, чтобы вернуться к окну проверки тегов для исправления других ошибок. Ошибками тегов считаются любые случаи, когда в переводе
               сегмента не воспроизводится точный порядок и число тегов оригинала. Некоторые изменения тегов необходимы и с ними приходится
               мириться, другие вызовут проблемы после создания переведённого документа.
            </p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="hints.for.tag.management"></a>7. Советы по управлению тегами<a class="indexterm" name="d0e6296"></a></h2>
                  </div>
               </div>
            </div>
            <p><span class="bold"><strong>Упростите исходный текст</strong></span></p>
            <p>Обычно теги несут какую-то информацию о форматировании исходного текста. Упрощение форматирования исходного текста сильно
               уменьшает количество тегов. Если это возможно, постарайтесь унифицировать используемые шрифты, размеры, цвета и т.&nbsp;п., так
               как это упрощает перевод и уменьшает количество возможных ошибок, связанных с тегами. Прочитайте раздел «Операции с тегами»,
               чтобы получить представление о том, что с ними можно делать. Имейте в виду, что если теги вас раздражают, а форматирование
               не очень важно для текущего перевода, то удаление тегов может стать решением проблемы.
            </p>
            <p><span class="bold"><strong>Уделяйте особое внимание парным тегам</strong></span></p>
            <p>Если вы хотите видеть теги в ОмегаТ, но вам не нужно сохранять большую часть форматирования в переведённом документе, вы можете
               просто не добавлять теги в перевод. В этом случае обратите особое внимание на пары тегов, поскольку если вы удалите одну из
               частей пары, но забудете удалить другую, то гарантированно испортите форматирование переведённого документа. Поскольку теги
               являются частью текста, уменьшить их количество можно за счёт соответствующих настроек правил сегментации. Для правильной
               работы с этой функцией необходим некоторый опыт.
            </p>
            <p>В настоящее время ОмегаТ не умеет полностью автоматически определять ошибки в форматировании, поэтому не отличает ошибок от
               изменений, сделанных в рамках адаптации оформления под язык перевода. Однако иногда в переведённом файле может быть нарушено
               форматирование, а в некоторых случаях он может вообще перестать открываться.
            </p>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="chapter.plain.text.html">Пред.</a>&nbsp;
               </td>
               <td width="20%" align="center">&nbsp;</td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="chapter.translation.memories.html">След.</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Глава 11. Работа с простыми текстовыми файлами&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td>
               <td width="40%" align="right" valign="top">&nbsp;Глава 13. Память переводов</td>
            </tr>
         </table>
      </div>
   </body>
</html>